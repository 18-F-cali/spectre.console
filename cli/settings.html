<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link href="/assets/bootstrap/bootstrap.css" rel="stylesheet" />
        <link href="/assets/css/styles.css" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Roboto+Slab:wght@400;700&family=Roboto:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet" data-no-mirror>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/themes/prism.css">

        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
        <script src="https://kit.fontawesome.com/a1cad7ed9a.js" crossorigin="anonymous" data-no-mirror></script>
        <script src="https://cdn.jsdelivr.net/npm/mermaid@8.4.8/dist/mermaid.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/components/prism-core.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/plugins/autoloader/prism-autoloader.min.js" data-no-mirror></script>

        <title>Spectre.Console - Specifying Settings</title>
    </head>
    <body class="d-flex flex-column">
        <div class="flex-grow-1 d-flex flex-column">

            <nav id="topnav" class="navbar navbar-expand-lg navbar-light">
                <div class="container py-3">
                    <a class="navbar-brand" href="/"><img id="logo" src="/assets/logo.svg" alt="Spectre.Console"> Spectre.Console</a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarText">
                        <ul class="navbar-nav mr-auto">
                        </ul>
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link font-weight-light font-size-lg text-red" href="https://github.com/sponsors/patriksvensson"><i class="far fa-heart"></i> Sponsor</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link font-weight-light font-size-lg" href="https://github.com/spectreconsole/spectre.console"><i class="fab fa-github"></i> GitHub</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>


            <div class="flex-grow-1 d-flex  bg-body flex-column section-docs">
                    <div id="titlebar" class="py-4">
                        <div class="container">
                            <div class="row">
                                <div class="offset-md-3 offset-lg-2 px-3 px-md-0">
                                    <div class="section text-uppercase">Spectre.Console</div>
                                    <div class="text-white m-0 title">Specifying Settings</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="undertitle">
                        <div class="container bg-body">
                            <div class="row">
                                    <div class="col-md-3 col-lg-2 bg-body">
                                    </div>
                                    <div class="col-md-9 col-lg-8 bg-white">
                                    </div>
                                <div class="col-lg-2 d-none d-lg-block bg-section">
                                </div>
                            </div>
                        </div>
                    </div>

                <div class="flex-grow-1 d-flex flex-column bg-body">
                        <div class="container flex-grow-1 d-flex flex-column bg-white">
                            <div class="row flex-grow-1 align-items-stretch">
                                    <div class="sidebar col-md-3 col-lg-2 pt-2 bg-body">
                                            <div class="sidebar-nav-item">
<a href="/">Welcome</a>                                            </div>
                                                <div class="sidebar-nav-item">
<a href="/sponsors">Sponsors</a>                                                </div>
                                                <div class="sidebar-nav-item">
<a href="/quick-start">Quick Start</a>                                                </div>
                                                <div class="sidebar-nav-item">
<a href="/markup">Markup</a>                                                </div>
                                                <div class="sidebar-nav-item">
<a href="/exceptions">Exceptions</a>                                                </div>
                                                <div class="sidebar-nav-item has-children">
<a href="/live">Live Displays</a>                                                </div>
                                                    <div class="sidebar-nav-children">
                                                            <div class="sidebar-nav-child">
                                                                <a href="/live/progress">Progress</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/live/status">Status</a>
                                                            </div>
                                                    </div>
                                                <div class="sidebar-nav-item has-children">
<a href="/prompts">Prompts</a>                                                </div>
                                                    <div class="sidebar-nav-children">
                                                            <div class="sidebar-nav-child">
                                                                <a href="/prompts/text">Text prompt</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/prompts/selection">Selection</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/prompts/multiselection">Multi Selection</a>
                                                            </div>
                                                    </div>
                                                <div class="sidebar-nav-item has-children">
<a href="/widgets">Widgets</a>                                                </div>
                                                    <div class="sidebar-nav-children">
                                                            <div class="sidebar-nav-child">
                                                                <a href="/widgets/table">Table</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/widgets/tree">Tree</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/widgets/barchart">Bar Chart</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/widgets/rule">Rule</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/widgets/calendar">Calendar</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/widgets/figlet">Figlet</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/widgets/canvas">Canvas</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/widgets/canvas-image">Canvas Image</a>
                                                            </div>
                                                    </div>
                                                <div class="sidebar-nav-item has-children">
<a href="/cli">CLI</a>                                                </div>
                                                    <div class="sidebar-nav-children active">
                                                            <div class="sidebar-nav-child">
                                                                <a href="/cli/getting-started">Getting Started</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/cli/commandapp">CommandApp</a>
                                                            </div>
                                                            <div class="sidebar-nav-child active">
                                                                <a href="/cli/settings">Specifying Settings</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/cli/commands">Creating Commands</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/cli/composing">Composing Commands</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/cli/migration">Migrate from Spectre.Cli</a>
                                                            </div>
                                                    </div>
                                                <div class="sidebar-nav-item has-children">
<a href="/appendix">Appendix</a>                                                </div>
                                                    <div class="sidebar-nav-children">
                                                            <div class="sidebar-nav-child">
                                                                <a href="/appendix/colors">Colors</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/appendix/styles">Styles</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/appendix/borders">Borders</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/appendix/emojis">Emojis</a>
                                                            </div>
                                                            <div class="sidebar-nav-child">
                                                                <a href="/appendix/spinners">Spinners</a>
                                                            </div>
                                                    </div>
                                    </div>
                                    <div class="col-md-9 col-lg-8 pt-4 pt-md-0 pb-4 px-4">
                                        <p>Settings for <code>Spectre.Console.Cli</code> commands are defined via classes that inherit from <code>CommandSettings</code>. Attributes are used to indicate how the parser interprets the command line arguments and create a runtime instance of the settings to be used.</p>
<p>Example:</p>
<pre><code class="language-csharp">public sealed class MyCommandSettings : CommandSettings
{
    [CommandArgument(0, &quot;[name]&quot;)]
    public string Name { get; set; }

    [CommandOption(&quot;-c|--count&quot;)]
    public int Count { get; set; }
}
</code></pre>
<p>This setting file tells <code>Spectre.Console.Cli</code> that our command has two parameters. One is marked as a <code>CommandArgument</code>, the other is a <code>CommandOption</code>.</p>
<h1 id="commandargument"><code>CommandArgument</code>.</h1>
<p>Arguments have a position and a name. The name is not only used for generating help, but it's formatting is used to determine whether or not the argument is optional. The name must either be surrounded by square brackets (e.g. <code>[name]</code>) or angle brackets (e.g. <code>&lt;name&gt;</code>). Angle brackets denote required whereas square brackets denote optional. If neither are specified an exception will be thrown.</p>
<p>The position is used for scenarios where there could be more than one argument.</p>
<p>For example, we could split the above name argument into two values with an optional last name.</p>
<pre><code class="language-csharp">[CommandArgument(0, &quot;&lt;firstName&gt;&quot;)]
public string FirstName { get; set; }

[CommandArgument(1, &quot;[lastName]&quot;)]
public string LastName { get; set; }
</code></pre>
<h1 id="commandoption"><code>CommandOption</code>.</h1>
<p><code>CommandOption</code> is used when you have options that are passed in command line switches. The attribute has one parameter - a pipe delimited string with the list of argument names. The following rules apply:</p>
<ul>
<li>As many names can be specified as you wish, they just can't conflict with other arguments.</li>
<li>Options with a single character must be preceded by a single dash (e.g. <code>-c</code>).</li>
<li>Multi-character options must be preceded by two dashes (e.g. <code>--count</code>).</li>
</ul>
<h2 id="flags">Flags.</h2>
<p>There is a special mode for <code>CommandOptions</code> on boolean types. Typically all <code>CommandOptions</code> require a value to be included after the switch. For these only the switch needs to be specified to mark the value as true. This example would allow the user to run either <code>app.exe --debug</code>, or <code>app.exe --debug true</code>.</p>
<pre><code class="language-csharp">[CommandOption(&quot;--debug&quot;)]
public bool Debug { get; set; }
</code></pre>
<h1 id="description">Description.</h1>
<p>When rendering help the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.componentmodel.descriptionattribute?view=net-5.0"><code>System.ComponentModel.Description</code></a> attribute is supported for specifying the text displayed to the user for both <code>CommandOption</code> and <code>CommandArgument</code>.</p>
<h1 id="defaultvalue">DefaultValue.</h1>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/system.componentmodel.defaultvalueattribute?view=net-5.0"><code>System.ComponentModel.DefaultValue</code></a> attribute supported to specify a default value for a command. For example, in the hello example displaying hello for a default count of zero wouldn't make sense. We can change this to a single hello:</p>
<pre><code class="language-csharp">[CommandOption(&quot;-c|--count&quot;)]
[DefaultValue(1)]
public int Count { get; set; }
</code></pre>
<h1 id="typeconverter">TypeConverter.</h1>
<p><code>System.ComponentModel.TypeConverter</code> is supported for more complex arguments, such as mapping log levels to an enum via a <a href="https://docs.microsoft.com/en-us/dotnet/api/system.componentmodel.typeconverter?view=net-5.0"><code>TypeConverter</code></a>.</p>
<h1 id="arrays">Arrays.</h1>
<p><code>CommandArgument</code> can be defined as arrays and any additional parameters will be included in the value. For example</p>
<pre><code class="language-csharp">[CommandArgument(0, &quot;[name]&quot;)]
public string[] Name { get; set; }
</code></pre>
<p>Would allow the user to run <code>app.exe Dwayne Elizondo &quot;Mountain Dew&quot; Herbert Camacho</code>. The settings passed to the command would have a 5 element array consisting of Dwayne, Elizondo, Mountain Dew, Herbert and Camacho.</p>
<h1 id="constructors">Constructors.</h1>
<p><code>Spectre.Console.Cli</code> supports constructor initialization and init only initialization. For constructor initialization, the parameter name of the constructor must match the name of the property name of the settings class. Order does not matter.</p>
<pre><code class="language-csharp">public class Settings
{
    public Settings(string[] name)
    {
        Name = name;
    }

    [Description(&quot;The name to display&quot;)]
    [CommandArgument(0, &quot;[Name]&quot;)]
    public string Name { get; }
}
</code></pre>
<p>Also supported are init only properties.</p>
<pre><code class="language-csharp">public class Settings
{
    [Description(&quot;The name to display&quot;)]
    [CommandArgument(0, &quot;[Name]&quot;)]
    public string Name { get; init; }
}
</code></pre>
<h1 id="validation">Validation.</h1>
<p>Simple type validation is performed automatically, but for scenarios where more complex validation is required, overriding the <code>Validate</code> method is supported. This method must return either <code>ValidationResult.Error</code> or <code>ValidationResult.Success</code>.</p>
<pre><code class="language-csharp">public class Settings
{
    [Description(&quot;The name to display&quot;)]
    [CommandArgument(0, &quot;[Name]&quot;)]
    public string Name { get; init; }

    public override ValidationResult Validate()
    {
        return Name.Length &lt; 2
            ? ValidationResult.Error(&quot;Names must be at least two characters long&quot;)
            : ValidationResult.Success();
    }
}
</code></pre>

                                    </div>
                                <div class="col-lg-2 d-none d-lg-block bg-body pl-3 pt-3">
                                            <div class="border-bottom mb-3">
                                                <p class="small font-weight-bold">On This Page</p>
                                                    <p class="small"><a href="#commandargument">CommandArgument.</a></p>
                                                    <p class="small"><a href="#commandoption">CommandOption.</a></p>
                                                    <p class="small"><a href="#description">Description.</a></p>
                                                    <p class="small"><a href="#defaultvalue">DefaultValue.</a></p>
                                                    <p class="small"><a href="#typeconverter">TypeConverter.</a></p>
                                                    <p class="small"><a href="#arrays">Arrays.</a></p>
                                                    <p class="small"><a href="#constructors">Constructors.</a></p>
                                                    <p class="small"><a href="#validation">Validation.</a></p>
                                            </div>
                                        <p class="small font-weight-bold"><a href="https://github.com/spectreconsole/spectre.console/edit/main/docs/input/cli/settings.md"><i class="fad fa-pencil"></i> Edit This Page</a></p>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
        <div id="footer" class="p-3 text-white font-size-sm">
            <div class="container">
                <div>
                    <span>© 2021 Patrik Svensson, Phil Scott</span>
                    <span class="float-right" style="color: #888888;">0.39.1-preview.0.8</span>
                </div>
            </div>
        </div>
        <script>
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();

                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
            });
        </script>
    </body>
</html>